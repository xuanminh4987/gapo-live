(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{58:function(e,t,s){},59:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(29),c=s.n(a),i=s(2),r=s(3),o=s(7),l=s(5),d=s(4),u=s(6),h=s.n(u),p=s(8),j=s(16),m=s(13),b=s.n(m),x=s(0),f=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.handleUserPage,s=e.handleLogin;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"card login-content",children:Object(x.jsx)("h1",{children:"Xin ch\xe0o Gapoer!"})}),Object(x.jsxs)("form",{className:"card login-form",onSubmit:function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s(document.getElementById("email").value,document.getElementById("password").value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(x.jsx)("input",{id:"email",type:"text",className:"form-control mb-3",placeholder:"Email"}),Object(x.jsx)("input",{id:"password",type:"password",className:"form-control mb-3",placeholder:"M\u1eadt kh\u1ea9u"}),Object(x.jsx)("button",{className:"form-control mb-3 bg-primary cursor-pointer",children:"\u0110\u0103ng nh\u1eadp"}),Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("a",{href:"",className:"text-primary",children:"Qu\xean m\u1eadt kh\u1ea9u?"})}),Object(x.jsx)("div",{className:"border mb-3 mt-3"}),Object(x.jsx)("input",{onClick:function(){t(!1)},type:"button",className:"form-control bg-success cursor-pointer",value:"\u0110\u0103ng k\xfd"})]})]})}}]),s}(n.Component),g=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).handleInfo=e.handleInfo.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"handleInfo",value:function(){return{email:document.getElementById("email").value,password:document.getElementById("password").value,firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value,birthday:document.getElementById("day").value+"-"+document.getElementById("month").value+"-"+document.getElementById("year").value,gender:document.querySelector('input[name="gender"]:checked')?document.querySelector('input[name="gender"]:checked').value:"",avatar:"https://www.gapo.vn/assets/images/default-user-avatar.png"}}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleUserPage,n=t.handleSignup;return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsxs)("div",{className:"mb-0 login-content",children:[Object(x.jsx)("h1",{className:"mb-2",children:Object(x.jsx)("b",{children:"Tr\u1edf th\xe0nh Gapoer?"})}),Object(x.jsx)("p",{className:"text-secondary",children:"Nhanh ch\xf3ng v\xe0 d\u1ec5 d\xe0ng."})]}),Object(x.jsx)("div",{className:"border mb-3 mt-3"}),Object(x.jsxs)("form",{onSubmit:function(){var t=Object(p.a)(h.a.mark((function t(s){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,e.handleInfo();case 3:a=t.sent,n(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(x.jsxs)("div",{className:"row mb-3",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsx)("input",{id:"firstName",type:"text",className:"form-control bg-color-light-1",placeholder:"H\u1ecd"})}),Object(x.jsx)("div",{className:"col",children:Object(x.jsx)("input",{id:"lastName",type:"text",className:"col form-control bg-color-light-1",placeholder:"T\xean"})})]}),Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("input",{id:"email",type:"email",className:"form-control bg-color-light-1",placeholder:"Email"})}),Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("input",{id:"password",type:"password",className:"form-control bg-color-light-1",placeholder:"M\u1eadt kh\u1ea9u m\u1edbi"})}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("p",{className:"text-secondary",children:"Ng\xe0y sinh"})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("select",{id:"day",className:"form-control",children:[Object(x.jsx)("option",{defaultValue:"",children:"Ng\xe0y"}),Object(x.jsx)("option",{value:"1",children:"1"}),Object(x.jsx)("option",{value:"2",children:"2"}),Object(x.jsx)("option",{value:"3",children:"3"}),Object(x.jsx)("option",{value:"4",children:"4"}),Object(x.jsx)("option",{value:"5",children:"5"}),Object(x.jsx)("option",{value:"6",children:"6"}),Object(x.jsx)("option",{value:"7",children:"7"}),Object(x.jsx)("option",{value:"8",children:"8"}),Object(x.jsx)("option",{value:"9",children:"9"}),Object(x.jsx)("option",{value:"10",children:"10"}),Object(x.jsx)("option",{value:"11",children:"11"}),Object(x.jsx)("option",{value:"12",children:"12"}),Object(x.jsx)("option",{value:"13",children:"14"}),Object(x.jsx)("option",{value:"14",children:"14"}),Object(x.jsx)("option",{value:"15",children:"15"}),Object(x.jsx)("option",{value:"16",children:"16"}),Object(x.jsx)("option",{value:"17",children:"17"}),Object(x.jsx)("option",{value:"18",children:"18"}),Object(x.jsx)("option",{value:"19",children:"19"}),Object(x.jsx)("option",{value:"20",children:"20"}),Object(x.jsx)("option",{value:"21",children:"21"}),Object(x.jsx)("option",{value:"22",children:"22"}),Object(x.jsx)("option",{value:"23",children:"23"}),Object(x.jsx)("option",{value:"24",children:"24"}),Object(x.jsx)("option",{value:"25",children:"25"}),Object(x.jsx)("option",{value:"26",children:"26"}),Object(x.jsx)("option",{value:"27",children:"27"}),Object(x.jsx)("option",{value:"28",children:"28"}),Object(x.jsx)("option",{value:"29",children:"29"}),Object(x.jsx)("option",{value:"30",children:"30"}),Object(x.jsx)("option",{value:"31",children:"31"})]})}),Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("select",{id:"month",className:"form-control",children:[Object(x.jsx)("option",{defaultValue:"",children:"Th\xe1ng"}),Object(x.jsx)("option",{value:"JAN",children:"Th\xe1ng 1"}),Object(x.jsx)("option",{value:"FEB",children:"Th\xe1ng 2"}),Object(x.jsx)("option",{value:"MAR",children:"Th\xe1ng 3"}),Object(x.jsx)("option",{value:"APR",children:"Th\xe1ng 4"}),Object(x.jsx)("option",{value:"MAY",children:"Th\xe1ng 5"}),Object(x.jsx)("option",{value:"JUN",children:"Th\xe1ng 6"}),Object(x.jsx)("option",{value:"JUL",children:"Th\xe1ng 7"}),Object(x.jsx)("option",{value:"AUG",children:"Th\xe1ng 8"}),Object(x.jsx)("option",{value:"SEP",children:"Th\xe1ng 9"}),Object(x.jsx)("option",{value:"OCT",children:"Th\xe1ng 10"}),Object(x.jsx)("option",{value:"NOV",children:"Th\xe1ng 11"}),Object(x.jsx)("option",{value:"DEC",children:"Th\xe1ng 12"})]})}),Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("select",{id:"year",className:"form-control",children:[Object(x.jsx)("option",{defaultValue:"",children:"N\u0103m"}),Object(x.jsx)("option",{value:"2003",children:"2003"}),Object(x.jsx)("option",{value:"2002",children:"2002"}),Object(x.jsx)("option",{value:"2001",children:"2001"}),Object(x.jsx)("option",{value:"2000",children:"2000"}),Object(x.jsx)("option",{value:"1999",children:"1999"}),Object(x.jsx)("option",{value:"1998",children:"1998"}),Object(x.jsx)("option",{value:"1997",children:"1997"}),Object(x.jsx)("option",{value:"1996",children:"1996"}),Object(x.jsx)("option",{value:"1995",children:"1995"}),Object(x.jsx)("option",{value:"1994",children:"1994"}),Object(x.jsx)("option",{value:"1993",children:"1993"}),Object(x.jsx)("option",{value:"1992",children:"1992"}),Object(x.jsx)("option",{value:"1991",children:"1991"}),Object(x.jsx)("option",{value:"1990",children:"1990"})]})})]})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("p",{className:"text-secondary",children:"Gi\u1edbi t\xednh"})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col position-relative",children:[Object(x.jsx)("label",{className:"form-control d-flex align-items-center",children:"Nam"}),Object(x.jsx)("input",{type:"radio",name:"gender",value:"Male",className:"position-absolute top-50 right-10px translate-y-50"})]}),Object(x.jsxs)("div",{className:"col position-relative",children:[Object(x.jsx)("label",{className:"form-control d-flex align-items-center",children:"N\u1eef"}),Object(x.jsx)("input",{type:"radio",name:"gender",value:"Female",className:"position-absolute top-50 right-10px translate-y-50"})]}),Object(x.jsxs)("div",{className:"col position-relative",children:[Object(x.jsx)("label",{className:"form-control d-flex align-items-center",children:"T\xf9y ch\u1ecdn"}),Object(x.jsx)("input",{type:"radio",name:"gender",value:"Option",className:"position-absolute top-50 right-10px translate-y-50"})]})]})]}),Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsxs)("p",{className:"text-secondary text-wrap",children:["B\u1eb1ng c\xe1ch nh\u1ea5p v\xe0o \u0110\u0103ng k\xfd, b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi ",Object(x.jsx)("a",{children:"\u0110i\u1ec1u kho\u1ea3n"}),",",Object(x.jsx)("a",{children:" Ch\xednh s\xe1ch d\u1eef li\u1ec7u "}),"v\xe0 ",Object(x.jsx)("a",{children:"Ch\xednh s\xe1ch cookie"})," c\u1ee7a ch\xfang t\xf4i. B\u1ea1n c\xf3 th\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng b\xe1o c\u1ee7a ch\xfang t\xf4i qua SMS v\xe0 h\u1ee7y nh\u1eadn b\u1ea5t k\u1ef3 l\xfac n\xe0o."]})}),Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("button",{className:"form-control bg-success cursor-pointer",children:"\u0110\u0103ng k\xfd"})}),Object(x.jsx)("div",{className:"border mb-3 mt-3"}),Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("input",{onClick:function(){s(!0)},type:"button",className:"form-control bg-primary cursor-pointer",value:"\u0110\u0103ng nh\u1eadp"})})]})]})}}]),s}(n.Component),v=s(10),O=s.n(v),y=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.alertType,s=e.alertMessage;return Object(x.jsx)("div",{className:"w-100 d-flex justify-content-center position-absolute top-10px",style:{zIndex:"9999"},children:Object(x.jsx)("div",{className:O()("alert",{"alert-warning":"warning"===t},{"alert-danger":"danger"===t},"w-50"),children:s})})}}]),s}(n.Component),N="https://gapo-clone.herokuapp.com",w=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={loginTab:!0,alert:{alertType:"",alertStatus:!1,alertMessage:""}},n.handleAlert=n.handleAlert.bind(Object(o.a)(n)),n.handleUserPage=n.handleUserPage.bind(Object(o.a)(n)),n.handleLogin=n.handleLogin.bind(Object(o.a)(n)),n.handleSignup=n.handleSignup.bind(Object(o.a)(n)),n}return Object(r.a)(s,[{key:"handleUserPage",value:function(e){this.setState(Object(j.a)(Object(j.a)({},this.state),{},{loginTab:e}))}},{key:"handleLogin",value:function(e,t){var s=this;e?t?b.a.post("".concat(N,"/users"),{type:"login",userInfo:{email:e,password:t}}).then((function(e){return e.data})).then((function(e){"failed"===e.status?s.handleAlert("danger",e.message):s.props.handleLogin(!0,e.doc._id)})):this.handleAlert("warning","B\u1ea1n ch\u01b0a nh\u1eadp m\u1eadt kh\u1ea9u."):this.handleAlert("warning","B\u1ea1n ch\u01b0a nh\u1eadp Email.")}},{key:"handleSignup",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var s,n,a,c,i,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.firstName,n=t.lastName,a=t.email,c=t.password,i=t.birthday,r=t.gender,s){e.next=4;break}return this.handleAlert("warning","B\u1ea1n ch\u01b0a nh\u1eadp h\u1ecd."),e.abrupt("return");case 4:if(n){e.next=7;break}return this.handleAlert("warning","B\u1ea1n ch\u01b0a nh\u1eadp t\xean."),e.abrupt("return");case 7:if(a){e.next=10;break}return this.handleAlert("warning","B\u1ea1n ch\u01b0a nh\u1eadp Email."),e.abrupt("return");case 10:if(c){e.next=13;break}return this.handleAlert("warning","B\u1ea1n ch\u01b0a nh\u1eadp m\u1eadt kh\u1ea9u."),e.abrupt("return");case 13:if(i){e.next=16;break}return this.handleAlert("warning","B\u1ea1n ch\u01b0a nh\u1eadp ng\xe0y th\xe1ng n\u0103m sinh."),e.abrupt("return");case 16:if(r){e.next=19;break}return this.handleAlert("warning","B\u1ea1n ch\u01b0a ch\u1ecdn gi\u1edbi t\xednh."),e.abrupt("return");case 19:return e.next=21,b.a.post("".concat(N,"/users"),{type:"signup",userInfo:t}).then((function(e){return e.data}));case 21:"failed"===(o=e.sent).status?this.handleAlert("danger",o.message):window.location.reload();case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleAlert",value:function(e,t){this.setState(Object(j.a)(Object(j.a)({},this.state),{},{alert:{alertType:e,alertMessage:t,alertStatus:!0}}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"container",children:[this.state.alert.alertStatus?Object(x.jsx)(y,{alertType:this.state.alert.alertType,alertMessage:this.state.alert.alertMessage}):"",Object(x.jsxs)("div",{className:"d-flex justify-content-center h-100",children:[Object(x.jsxs)("div",{className:"h-100 m-0 pb-5 px-5",children:[Object(x.jsx)("div",{className:"card login-logo",children:Object(x.jsx)("img",{src:"https://www.gapo.vn/assets/images/logo%20gapo.svg",alt:""})}),this.state.loginTab?Object(x.jsx)(f,{handleUserPage:this.handleUserPage,handleLogin:this.handleLogin}):Object(x.jsx)(g,{handleUserPage:this.handleUserPage,handleSignup:this.handleSignup})]}),Object(x.jsx)("div",{className:"m-0 bg-success background",style:{minHeight:"100vh"},children:Object(x.jsx)("img",{className:"w-100",src:"https://www.gapo.vn/assets/images/right-cover.jpg",alt:""})})]})]})}}]),s}(n.Component);function S(e){return b.a.get("".concat(N,"/users/").concat(e)).then((function(e){return e.data}))}var k=s(11),C=s(12),I=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.handleLogin,s=e.userInfo;return Object(x.jsx)("div",{className:"position-absolute top-100 border rounded box-shadow header-user-card",children:Object(x.jsxs)("div",{className:"p-5 d-flex flex-column",children:[Object(x.jsx)("img",{className:"mx-auto header-user-card--avatar rounded-circle border",src:s.avatar,alt:""}),Object(x.jsxs)("p",{className:"mx-auto my-3 fw-6 username",children:[s.firstName," ",s.lastName]}),Object(x.jsx)("a",{className:"text-center text-secondary",href:"#",children:"Trang c\xe1 nh\xe2n"}),Object(x.jsx)("div",{className:"border my-5"}),Object(x.jsxs)("div",{className:"p-3 d-flex align-items-center rounded cursor-pointer transition-03 hover-gray",onClick:function(){t(!1)},children:[Object(x.jsx)("img",{className:"mx-3",src:"https://www.gapo.vn/assets/icons/icon-logout.svg",alt:""}),"\u0110\u0103ng xu\u1ea5t"]})]})})}}]),s}(n.Component),R=s(15);function L(e,t,s){return b.a.put("".concat(N,"/users/").concat(e),{type:t,data:s}).then((function(e){return e.data}))}var U=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).setFriendStatus=e.setFriendStatus.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"setFriendStatus",value:function(){var e=this.props,t=e.userID,s=e.friendID;L(t,"friends",{_id:s,status:"requesting"}),L(s,"friends",{_id:t,status:"responding"})}},{key:"render",value:function(){var e=this,t=this.props.handleFriendStatus;return Object(x.jsx)("span",{className:"ml-auto bg-color-green-1 text-green rounded transition-03 add-friend--btn",style:{border:".5px #6fbe44 solid"},children:Object(x.jsx)("div",{onClick:Object(p.a)(h.a.mark((function s(){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.setFriendStatus();case 2:t("requesting");case 3:case"end":return s.stop()}}),s)}))),className:"p-3 fs-08 text-nowrap",style:{padding:"8px"},children:Object(x.jsxs)("div",{className:"add-friend-status--none",children:[Object(x.jsx)(k.a,{icon:C.k,style:{marginRight:"5px"}}),"K\u1ebft b\u1ea1n"]})})})}}]),s}(n.Component),B=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).setFriendStatus=e.setFriendStatus.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"setFriendStatus",value:function(){var e=this.props,t=e.userID,s=e.friendID;L(t,"friends",{_id:s,status:!0}),L(s,"friends",{_id:t,status:!0})}},{key:"render",value:function(){var e=this,t=this.props.handleFriendStatus;return Object(x.jsx)("span",{className:"ml-auto bg-color-green-1 text-green rounded transition-03 add-friend--btn",style:{border:".5px #6fbe44 solid"},children:Object(x.jsx)("div",{onClick:Object(p.a)(h.a.mark((function s(){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.setFriendStatus();case 2:t(!0);case 3:case"end":return s.stop()}}),s)}))),className:"p-3 fs-08 text-nowrap",style:{padding:"8px"},children:Object(x.jsxs)("div",{children:[Object(x.jsx)(k.a,{icon:C.b,style:{marginRight:"5px"}}),"X\xe1c nh\u1eadn"]})})})}}]),s}(n.Component),G=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).setFriendStatus=e.setFriendStatus.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"setFriendStatus",value:function(){var e=this.props,t=e.userID,s=e.friendID;L(t,"friends",{_id:s,status:!1}),L(s,"friends",{_id:t,status:!1})}},{key:"render",value:function(){var e=this,t=this.props.handleFriendStatus;return Object(x.jsx)("span",{className:"ml-auto bg-secondary rounded border transition-03 add-friend--btn",children:Object(x.jsx)("div",{onClick:Object(p.a)(h.a.mark((function s(){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.setFriendStatus();case 2:t("");case 3:case"end":return s.stop()}}),s)}))),className:"p-3 fs-08 text-nowrap",style:{padding:"8px"},children:Object(x.jsxs)("div",{children:[Object(x.jsx)(k.a,{icon:C.b,style:{marginRight:"5px"}}),"\u0110\xe3 g\u1eedi l\u1eddi m\u1eddi"]})})})}}]),s}(n.Component),F=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={friendStatus:""},e.handleFriendStatus=e.handleFriendStatus.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"componentWillMount",value:function(){var e=this,t=this.props,s=t.user,n=t._id;s.friends.map((function(t){if(t._id===n){if("requesting"===t.status)return void e.setState({friendStatus:"responding"});if("responding"===t.status)return void e.setState({friendStatus:"requesting"});if(!0===t.status)return void e.setState({friendStatus:t.status})}}))}},{key:"handleFriendStatus",value:function(e){(this.setState({friendStatus:e}),!0===e)&&(0,this.props.isUpdateFriend)(!0)}},{key:"render",value:function(){var e=this.props,t=e.user,s=e._id;return Object(x.jsxs)("div",{className:"mb-1 p-2 d-flex align-items-center rounded hover-gray cursor-pointer user--info",children:[Object(x.jsx)("img",{className:"circle mr-3 border",src:t.avatar,alt:""}),Object(x.jsxs)("span",{className:"fw-6",children:[t.firstName," ",t.lastName]}),"responding"===this.state.friendStatus?Object(x.jsx)(B,{userID:s,friendID:t._id,handleFriendStatus:this.handleFriendStatus}):"requesting"===this.state.friendStatus?Object(x.jsx)(G,{userID:s,friendID:t._id,handleFriendStatus:this.handleFriendStatus}):1==this.state.friendStatus?"":Object(x.jsx)(U,{userID:s,friendID:t._id,handleFriendStatus:this.handleFriendStatus})]})}}]),s}(n.Component),M=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={searchResults:[],isResult:!1},e.getUsers=e.getUsers.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"componentDidUpdate",value:function(e){this.props.searchValue!==e.searchValue&&this.getUsers()}},{key:"getUsers",value:function(){var e=this,t=this.props,s=t.searchValue,n=t._id;this.setState({searchResults:[]}),fetch("http://localhost:3001/users").then((function(e){return e.json()})).then((function(t){"success"===t.status&&(s?t.doc.map((function(t){t._id!==n&&(t.firstName.toLowerCase().includes(s.toLowerCase())||t.lastName.toLowerCase().includes(s.toLowerCase()))&&e.setState({searchResults:[].concat(Object(R.a)(e.state.searchResults),[t]),isResult:!0})})):e.setState({isResult:!1}))}))}},{key:"render",value:function(){var e=this.props,t=e._id,s=e.isUpdateFriend;return Object(x.jsxs)("div",{className:"card position-absolute top-100 bg-light text-wrap rounded border z-index-99 transition-03 search--results-box",children:[Object(x.jsx)("p",{className:"p-3 fw-6",children:"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm"}),Object(x.jsx)("div",{className:"mt-3 border"}),Object(x.jsx)("div",{className:"p-3 search--results",children:this.state.isResult?this.state.searchResults.map((function(e){return Object(x.jsx)(F,{_id:t,user:e,isUpdateFriend:s},e._id)})):"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"})]})}}]),s}(n.Component),_=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={isShowResultBox:!1,searchValue:""},e.handleTimeOut=0,e.handleSearch=e.handleSearch.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"handleSearch",value:function(e){var t=this;this.handleTimeOut&&clearTimeout(this.handleTimeOut),e.target.value?this.handleTimeOut=setTimeout((function(){t.setState({isShowResultBox:!0,searchValue:e.target.value})}),300):this.handleTimeOut=setTimeout((function(){t.setState({isShowResultBox:!1,searchValue:e.target.value})}),300)}},{key:"render",value:function(){var e=this.props,t=e._id,s=e.isUpdateFriend;return Object(x.jsxs)("div",{className:"h-100 position-relative d-flex align-items-center",children:[Object(x.jsx)("input",{type:"search",className:"form-control rounded-pill header-search",placeholder:"T\xecm ki\u1ebfm",onChange:this.handleSearch}),Object(x.jsx)(k.a,{icon:C.g,className:"position-absolute text-secondary top-50 left-20px translate-50 cursor-pointer"}),this.state.isShowResultBox?Object(x.jsx)(M,{_id:t,searchValue:this.state.searchValue,isUpdateFriend:s}):""]})}}]),s}(n.Component),D=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={menuSelected:e.menuSelected},n}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e){e.menuSelected!==this.props.menuSelected&&this.setState({menuSelected:this.props.menuSelected})}},{key:"render",value:function(){return Object(x.jsx)("span",{className:"mb-5 d-flex justify-content-center",children:"home"===this.state.menuSelected?Object(x.jsx)("img",{className:"header-menu-type",src:"https://www.gapo.vn/assets/icons/home-active.svg",alt:""}):Object(x.jsx)("img",{className:"header-menu-type",src:"https://www.gapo.vn/assets/icons/home-default.svg"})})}}]),s}(n.Component),T=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={menuSelected:e.menuSelected},n}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e){e.menuSelected!==this.props.menuSelected&&this.setState({menuSelected:this.props.menuSelected})}},{key:"render",value:function(){return Object(x.jsx)("span",{className:"mb-5 d-flex justify-content-center",children:"groups"===this.state.menuSelected?Object(x.jsx)("img",{className:"header-menu-type",src:"https://www.gapo.vn/assets/icons/group-active.svg",alt:""}):Object(x.jsx)("img",{className:"header-menu-type",src:"https://www.gapo.vn/assets/icons/group-default.svg",alt:""})})}}]),s}(n.Component),P=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={isShowUserCard:!1,menuSelected:"home"},e}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e){e.menuSelected!==this.props.menuSelected&&this.setState({menuSelected:this.props.menuSelected})}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleLogin,n=t.userInfo,a=t.isUpdateFriend,c=t.handleMenuSelected;return Object(x.jsx)("header",{className:"box-shadow",children:Object(x.jsxs)("div",{className:"h-100 d-flex align-items-center",children:[Object(x.jsx)("div",{className:"h-100 d-flex align-items-center",children:Object(x.jsx)("img",{height:"30px",src:"https://www.gapo.vn/assets/images/logo.svg",alt:""})}),Object(x.jsx)("div",{className:"h-50 mx-1 d-inline-flex border"}),Object(x.jsx)(_,{_id:n._id,isUpdateFriend:a}),Object(x.jsxs)("ul",{className:"h-100 col-0 col-xl-6  d-flex justify-content-center position-absolute position-center",children:[Object(x.jsx)("li",{onClick:function(){c("home")},className:O()("h-100","pt-2","pb-1","col","d-flex","align-items-center","cursor-pointer",{"header-menu--selected":"home"===this.state.menuSelected}),children:Object(x.jsxs)("div",{className:"d-list-item mx-auto",children:[Object(x.jsx)(D,{menuSelected:this.state.menuSelected}),Object(x.jsx)("p",{className:"fs-09 text-nowrap",children:"Trang ch\u1ee7"})]})}),Object(x.jsx)("li",{className:"h-100 pt-2 pb-1 col d-flex align-items-center cursor-pointer pointer-events-none header-menu",children:Object(x.jsxs)("div",{className:"d-list-item mx-auto",children:[Object(x.jsx)("span",{className:"mb-5 d-flex justify-content-center",children:Object(x.jsx)("img",{className:"header-menu-type-true",src:"https://www.gapo.vn/assets/icons/news-default.svg",alt:""})}),Object(x.jsx)("p",{className:"fs-09 text-nowrap",children:"Tin t\u1ee9c"})]})}),Object(x.jsx)("li",{onClick:function(){c("groups")},className:O()("h-100","pt-2","pb-1","col","d-flex","align-items-center","cursor-pointer",{"header-menu--selected":"groups"===this.state.menuSelected}),children:Object(x.jsxs)("div",{className:"d-list-item mx-auto",children:[Object(x.jsx)(T,{menuSelected:this.state.menuSelected}),Object(x.jsx)("p",{className:"fs-09 text-nowrap",children:"Nh\xf3m"})]})}),Object(x.jsx)("li",{className:"h-100 pt-2 pb-1 col d-flex align-items-center cursor-pointer pointer-events-none header-menu",children:Object(x.jsxs)("div",{className:"d-list-item mx-auto",children:[Object(x.jsx)("span",{className:"mb-5 d-flex justify-content-center",children:Object(x.jsx)("img",{className:"header-menu-type",src:"https://www.gapo.vn/assets/icons/video-default.svg",alt:""})}),Object(x.jsx)("p",{className:"fs-09 text-nowrap",children:"Video"})]})}),Object(x.jsx)("li",{className:"h-100 pt-2 pb-1 col d-flex align-items-center cursor-pointer pointer-events-none header-menu",children:Object(x.jsxs)("div",{className:"d-list-item mx-auto",children:[Object(x.jsx)("span",{className:"mb-5 d-flex justify-content-center",children:Object(x.jsx)("img",{className:"header-menu-type",src:"https://www.gapo.vn/assets/icons/chat-default.svg",alt:""})}),Object(x.jsx)("p",{className:"fs-09 text-nowrap",children:"Chat"})]})})]}),Object(x.jsxs)("ul",{className:"h-100 col-0 col-md-4 ml-auto d-flex flex-row-reverse align-items-center",children:[Object(x.jsxs)("li",{className:"ml-3 d-flex px-2 align-items-center cursor-pointer header-user",onClick:function(){e.setState({isShowUserCard:!e.state.isShowUserCard})},children:[Object(x.jsx)("img",{className:"mr-3 circle border",src:n.avatar,alt:""}),Object(x.jsxs)("div",{className:"mr-1 fw-6 text-nowrap text-secondary username",children:[n.firstName," ",n.lastName]}),Object(x.jsx)("img",{src:"https://www.gapo.vn/assets/icons/icon-dropdown.svg",alt:""})]}),this.state.isShowUserCard?Object(x.jsx)(I,{userInfo:n,handleLogin:s}):"",Object(x.jsx)("li",{className:"mx-3 circle d-flex align-items-center justify-content-center border bg-color-light-1",children:Object(x.jsx)(k.a,{icon:C.a})}),Object(x.jsx)("li",{className:"mx-3 circle d-flex align-items-center justify-content-center border bg-color-light-1",children:Object(x.jsx)(k.a,{icon:C.j})})]})]})})}}]),s}(n.Component),A=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.userInfo,s=e.handleFriendMessage;return Object(x.jsxs)("div",{onClick:function(){s(t._id)},className:"mb-1 p-2 d-flex align-items-center rounded hover-gray cursor-pointer friend-message",children:[Object(x.jsx)("img",{className:"circle mr-3 border",src:t.avatar,alt:""}),Object(x.jsxs)("span",{className:"fw-6",children:[t.firstName," ",t.lastName]})]})}}]),s}(n.Component),E=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.userInfo,s=e.friendInfo,n=e.handleFriendStatus;return Object(x.jsxs)("div",{className:"mb-1 p-2 d-flex align-items-center rounded hover-gray cursor-pointer user--info",children:[Object(x.jsx)("img",{className:"circle mr-3 border",src:s.avatar,alt:""}),Object(x.jsxs)("span",{className:"fw-6",children:[s.firstName," ",s.lastName]}),Object(x.jsx)(B,{friendID:s._id,userID:t._id,handleFriendStatus:n})]})}}]),s}(n.Component),q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={friends:[],friendRequests:[],isLoadFriends:!1},e.handleFriendsList=e.handleFriendsList.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"UNSAFE_componentWillMount",value:function(){this.handleFriendsList()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isUpdateFriend!==this.props.isUpdateFriend&&this.handleFriendsList()}},{key:"handleFriendsList",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,s,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.userInfo,this.setState({friends:[],friendRequests:[],isLoadFriends:!1}),e.next=4,S(t._id);case 4:"success"===(s=e.sent).status&&(this.setState({friends:[]}),s.doc.friends.map(function(){var e=Object(p.a)(h.a.mark((function e(t){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.status){e.next=5;break}return e.next=3,S(t._id);case 3:"success"===(s=e.sent).status&&n.setState({friends:[].concat(Object(R.a)(n.state.friends),[s.doc])});case 5:if("responding"!==t.status){e.next=10;break}return e.next=8,S(t._id);case 8:"success"===(a=e.sent).status&&n.setState({friendRequests:[].concat(Object(R.a)(n.state.friendRequests),[a.doc])});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.setState({isLoadFriends:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.handleFriendStatus,s=e.userInfo,n=e.handleFriendMessage;return Object(x.jsx)("aside",{className:"col-lg-3 col-md-4 col-0 bg-light position-fixed main-side--left",children:Object(x.jsxs)("div",{className:"p-3 row flex-column",children:[Object(x.jsxs)("div",{className:"row mt-2 p-2 align-items-center",children:[Object(x.jsx)("span",{className:"pr-2",children:Object(x.jsx)("h3",{children:"T\xe0i kho\u1ea3n: 0"})}),Object(x.jsx)("span",{children:Object(x.jsx)("img",{src:"https://www.gapo.vn/assets/icons/payment/Gcoin.svg",alt:""})}),Object(x.jsx)("span",{className:"ml-auto mr-3 p-3 rounded bg-color-light-2 fw-7 text-secondary cursor-pointer",children:"Mua Coin"})]}),Object(x.jsx)("div",{className:"m-3 border"}),this.state.friendRequests.length>0?Object(x.jsx)("div",{className:"p-3 fw-6 text-secondary",children:"L\u1eddi m\u1eddi k\u1ebft b\u1ea1n"}):"",this.state.friendRequests.length>0?Object(x.jsx)("div",{className:"text-secondary",children:this.state.friendRequests.map((function(e){return Object(x.jsx)(E,{friendInfo:e,userInfo:s,handleFriendStatus:t},e._id)}))}):"",this.state.friendRequests.length>0?Object(x.jsx)("div",{className:"m-3 border"}):"",Object(x.jsx)("div",{className:"p-2 fw-6 text-secondary friend-contact",children:"Ng\u01b0\u1eddi li\xean h\u1ec7"}),Object(x.jsx)("div",{className:"users-list text-secondary",children:this.state.isLoadFriends?this.state.friends.map((function(e){return Object(x.jsx)(A,{userInfo:e,handleFriendMessage:n},e._id)})):""})]})})}}]),s}(n.Component),V=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"mt-3 p-3",children:"Trang ch\u1ee7"}),Object(x.jsxs)("ul",{className:"p-3 d-flex flex-column",children:[Object(x.jsxs)("li",{className:"p-3 d-flex align-items-center rounded hover-gray bg-color-light-2 transition-03 cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-3",src:"http://gapo.vn/assets/images/svg-icons/explore.svg",alt:""}),"Kh\xe1m ph\xe1"]}),Object(x.jsxs)("li",{className:"p-3 d-flex align-items-center rounded hover-gray hover-gray:hover transition-03 cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-3",src:"http://gapo.vn/assets/images/svg-icons/follow-feed.svg",alt:""}),"Theo d\xf5i"]}),Object(x.jsxs)("li",{className:"p-3 d-flex align-items-center rounded hover-gray hover-gray:hover transition-03 cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-3",src:"http://gapo.vn/assets/images/svg-icons/search-colorful.svg",alt:""}),"T\xecm b\u1ea1n b\xe8"]}),Object(x.jsxs)("li",{className:"p-3 d-flex align-items-center rounded hover-gray hover-gray:hover transition-03 cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-3",src:"http://gapo.vn/assets/images/svg-icons/flag-page.svg",alt:""}),"Trang c\u1ee7a b\u1ea1n"]})]})]})}}]),s}(n.Component);function W(){return b.a.get(N+"/groups").then((function(e){return e.data}))}var H=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.groupInfo,s=e.handleGroupSelected;return Object(x.jsxs)("li",{onClick:function(){s(t._id)},className:"p-3 d-flex align-items-center rounded cursor-pointer group-item hover-gray transition-03",children:[Object(x.jsx)("img",{width:"56px",height:"56px",className:"mr-3 rounded",src:t.avatar,alt:""}),t.name]})}}]),s}(n.Component),J=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={groups:[],isLoaded:!1},e}return Object(r.a)(s,[{key:"UNSAFE_componentWillMount",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoaded:!1}),e.next=3,W();case 3:"success"===(t=e.sent).status&&this.setState({groups:t.doc,isLoaded:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoaded:!1}),e.next=3,W();case 3:"success"===(t=e.sent).status&&this.setState({groups:t.doc,isLoaded:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.handleShowGroupBox,s=e.handleGroupSelected;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"mt-3 p-3",children:"Nh\xf3m"}),Object(x.jsxs)("div",{className:"m-3 p-3 d-flex align-items-center rounded hover-gray bg-color-green-1 text-success fw-6 transition-03 cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-3",src:"https://www.gapo.vn/assets/icons/Frame%20988.svg",alt:""}),"B\u1ea3ng tin c\u1ee7a b\u1ea1n"]}),Object(x.jsxs)("div",{className:"m-3 p-3 d-flex align-items-center rounded hover-gray bg-white text-secondary fw-6 transition-03 cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-3",src:"https://www.gapo.vn/assets/icons/Frame%20988%20(1).svg",alt:""}),"Kh\xe1m ph\xe1"]}),Object(x.jsxs)("div",{onClick:function(){return t(!0)},className:"m-3 p-3 d-flex justify-content-center align-items-center rounded bg-white text-secondary transition-03 cursor-pointer create-group--btn",children:[Object(x.jsx)("img",{className:"mr-3",src:"https://www.gapo.vn/assets/icons/plus-create-make.svg",alt:""}),"T\u1ea1o nh\xf3m m\u1edbi"]}),Object(x.jsx)("div",{className:"my-5 mx-3 border"}),Object(x.jsxs)("div",{className:"my-3 pt-0 pb-3 px-3",children:[Object(x.jsx)("p",{className:"my-3 fw-6",children:"Nh\xf3m b\u1ea1n tham gia"}),Object(x.jsxs)("ul",{className:"py-3 d-flex flex-column group-items",children:[Object(x.jsxs)("li",{onClick:function(){s("")},className:"p-3 d-flex align-items-center rounded cursor-pointer group-item hover-gray transition-03",children:[Object(x.jsx)("img",{className:"mr-3 rounded",src:"https://cdn-thumb-image-5.gapo.vn/56x56/smart/502726b8-3f51-41cc-9511-32c5d3b650d2.jpeg",alt:""}),"Box Girl \u2764"]}),this.state.isLoaded?this.state.groups.map((function(e){return Object(x.jsx)(H,{groupInfo:e,handleGroupSelected:s},e._id)})):""]})]})]})}}]),s}(n.Component),z=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.menuSelected,s=e.handleShowGroupBox,n=e.isCreateGroup,a=e.handleGroupSelected;return Object(x.jsx)("aside",{className:"col-lg-3 col-0 bg-light position-fixed main-side--right",children:"home"===t?Object(x.jsx)(V,{}):"groups"===t?Object(x.jsx)(J,{handleShowGroupBox:s,isCreateGroup:n,handleGroupSelected:a}):""})}}]),s}(n.Component),K=s(30);function X(e){return b.a.get("".concat(N,"/groups/").concat(e)).then((function(e){return e.data}))}function Q(e){return b.a.get("".concat(N,"/posts/").concat(e)).then((function(e){return e.data}))}var Y=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.handleGroupsList;return Object(x.jsx)("div",{onClick:function(){e()},className:"py-3 col d-flex justify-content-center rounded cursor-pointer hover-gray",children:Object(x.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(x.jsx)("img",{className:"mr-2",width:"30px",src:"https://www.gapo.vn/assets/icons/group-active.svg",alt:""}),"Nh\xf3m"]})})}}]),s}(n.Component),Z=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.groupInfo,s=e.handleSelectedGroup;return Object(x.jsx)("div",{onClick:function(){s(t._id)},className:"p-3 rounded hover-gray transition-03 cursor-pointer",children:Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsx)("img",{className:"mr-2",width:"30px",src:t.avatar,alt:""}),t.name]})})}}]),s}(n.Component),$=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={groupsList:[],isLoaded:!1},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:"success"===(t=e.sent).status&&this.setState({groupsList:t.doc});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){t.groupsList.length!==this.state.groupsList.length&&this.setState({isLoaded:!0})}},{key:"render",value:function(){var e=this.props.handleSelectedGroup;return Object(x.jsxs)("div",{className:"mt-3 form-control overflow-hidden overflow-y-scroll",style:{maxHeight:"200px"},children:[Object(x.jsx)("div",{onClick:function(){e()},className:"p-3 d-flex align-items-center rounded hover-gray transition-03 cursor-pointer group-list--item",children:"-- Nh\xf3m --"}),this.state.isLoaded?this.state.groupsList.map((function(t){return Object(x.jsx)(Z,{groupInfo:t,handleSelectedGroup:e},t._id)})):""]})}}]),s}(n.Component),ee=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.groupInfo;return Object(x.jsx)("div",{className:"mt-3",children:Object(x.jsxs)("div",{className:"p-3 d-flex align-items-center rounded bg-color-light-1 transition-03 cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-2",width:"30px",src:e.avatar,alt:""}),e.name]})})}}]),s}(n.Component),te=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={isShowGroupsList:!1,isSelectedGroup:!1,selectedGroupID:"",selectedGroup:{}},e.handleSelectedGroup=e.handleSelectedGroup.bind(Object(o.a)(e)),e.handlePost=e.handlePost.bind(Object(o.a)(e)),e.handleGroupsList=e.handleGroupsList.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(){var e=Object(p.a)(h.a.mark((function e(t,s){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.selectedGroupID===this.state.selectedGroupID){e.next=5;break}return e.next=3,X(this.state.selectedGroupID);case 3:"success"===(n=e.sent).status&&this.setState({isSelectedGroup:!0,selectedGroup:n.doc});case 5:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"handlePost",value:function(){var e=this,t=this.props.userInfo,s=document.getElementById("content").value,n=this.state.selectedGroupID,a=(new Date).getTime();s&&t._id&&b.a.post("".concat(N,"/posts/"),{userID:t._id,content:s,timestamps:a,reaction:{like:[],love:[],haha:[],wow:[],sad:[],angry:[]},comments:[]}).then((function(e){return e.data})).then((function(e){return"success"===e.status&&n&&fetch("http://localhost:3001/groups/".concat(n),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({postID:e.doc._id})}),e.doc})).then((function(t){e.props.isCreatePost(t)}))}},{key:"handleSelectedGroup",value:function(e){e||this.setState({isSelectedGroup:!1}),this.setState({selectedGroupID:e})}},{key:"handleGroupsList",value:function(){this.setState({isShowGroupsList:!this.state.isShowGroupsList})}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"card-min-width p-2 d-flex flex-column position-absolute bg-light rounded box-shadow z-index-9",children:[Object(x.jsxs)("div",{className:"d-flex flex-nowrap align-items-center",children:[Object(x.jsx)("img",{className:"mr-3 circle border",src:"https://www.gapo.vn/assets/images/default-user-avatar.png",alt:""}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"fw-6 text-nowrap mb-2 username",children:"Xu\xe2n Minh"}),Object(x.jsxs)("div",{className:"p-5 d-flex justify-content-center align-items-center rounded bg-color-light-2 fs-07 text-nowrap text-secondary cursor-pointer",children:[Object(x.jsx)(k.a,{icon:C.f,className:"mr-5 fs-1"}),"C\xf4ng khai",Object(x.jsx)("img",{src:"https://www.gapo.vn/assets/icons/icon-dropdown.svg",alt:""})]})]})]}),Object(x.jsx)("div",{className:"my-3 border"}),Object(x.jsx)("div",{children:Object(x.jsx)("textarea",{id:"content",className:"w-100 fs-1 outline-none border-0",cols:"50",rows:"10",placeholder:"B\u1ea1n mu\u1ed1n chia s\u1ebb \u0111i\u1ec1u g\xec?"})}),this.state.isSelectedGroup?Object(x.jsx)(ee,{groupInfo:this.state.selectedGroup}):"",this.state.isShowGroupsList?Object(x.jsx)($,{handleSelectedGroup:this.handleSelectedGroup}):"",Object(x.jsx)("div",{className:"mt-3 border"}),Object(x.jsxs)("div",{className:"d-flex p-1",children:[Object(x.jsxs)("div",{className:"py-3 col d-flex justify-content-center align-items-center col rounded cursor-pointer hover-gray",children:[Object(x.jsx)("img",{className:"mr-2",width:"20px",src:"https://www.gapo.vn/assets/images/svg-icons/picture-video.svg",alt:""}),"\u1ea2nh/Video"]}),Object(x.jsxs)("div",{className:"py-3 col d-flex justify-content-center align-items-center col rounded cursor-pointer hover-gray",children:[Object(x.jsx)("img",{className:"mr-2",width:"20px",src:"https://www.gapo.vn/assets/icons/icon-ask.svg",alt:""}),"H\u1ecfi \u0111\xe1p"]}),Object(x.jsx)(Y,{handleGroupsList:this.handleGroupsList})]}),Object(x.jsx)("div",{className:"mb-3 border"}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){e.handlePost()},id:"post-btn",className:"w-100 p-3 bg-color-green-2 fs-1 text-light rounded outline-none border-0 cursor-pointer transition-03",children:"Chia s\u1ebb"})})]})}}]),s}(n.Component);function se(e){var t=(new Date).getTime(),s=Math.floor((t-e)/1e3),n=Math.floor((t-e)/1e3/60),a=Math.floor((t-e)/1e3/60/60),c=Math.floor((t-e)/1e3/60/60/24),i=Math.floor((t-e)/1e3/60/60/24/7);return i>=1?"".concat(i," tu\u1ea7n"):c>=1?"".concat(c," ng\xe0y"):a>=1?"".concat(a," gi\u1edd"):n>=1?"".concat(n," ph\xfat"):s>=1?"".concat(s," gi\xe2y tr\u01b0\u1edbc"):"V\u1eeba xong"}function ne(e,t,s){return b.a.put("".concat(N,"/posts/").concat(e),{type:t,data:s}).then((function(e){return e.data}))}var ae=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.post;return Object(x.jsxs)("div",{className:"ml-auto d-flex align-items-center cursor-pointer",children:[e.comments.length," b\xecnh lu\u1eadn"]})}}]),s}(n.Component),ce=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.post;return Object(x.jsxs)("div",{className:"d-flex cursor-pointer",children:[Object(x.jsx)("img",{className:"mr-3 circle-auto",src:"http://gapo.vn/assets/images/png-icons/like-reaction.png",alt:""}),Object(x.jsx)("div",{className:"d-flex align-items-center",children:e.reaction.like.length+e.reaction.love.length+e.reaction.haha.length+e.reaction.wow.length+e.reaction.sad.length+e.reaction.angry.length})]})}}]),s}(n.Component),ie=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"updateReaction",value:function(){var e=this.props,t=e.content,s=e.handleUpdateReaction;t||s("like")}},{key:"render",value:function(){var e=this,t=this.props.content;return Object(x.jsxs)("div",{onClick:function(){e.updateReaction()},className:O()("d-flex","align-items-center","justify-content-center","w-100","h-100",{"reaction-icon":!t}),children:[Object(x.jsx)("img",{className:O()({"mr-3":t,"circle-auto":t,circle:!t}),src:"http://gapo.vn/assets/images/png-icons/like-reaction.png",alt:""}),t||""]})}}]),s}(n.Component),re=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"updateReaction",value:function(){var e=this.props,t=e.content,s=e.handleUpdateReaction;t||s("love")}},{key:"render",value:function(){var e=this,t=this.props.content;return Object(x.jsxs)("div",{onClick:function(){e.updateReaction()},className:O()("d-flex","align-items-center","justify-content-center","w-100","h-100",{"reaction-icon":!t}),children:[Object(x.jsx)("img",{className:O()({"mr-3":t,"circle-auto":t,circle:!t}),src:"http://gapo.vn/assets/images/png-icons/love-reaction.png",alt:""}),t||""]})}}]),s}(n.Component),oe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"updateReaction",value:function(){var e=this.props,t=e.content,s=e.handleUpdateReaction;t||s("haha")}},{key:"render",value:function(){var e=this,t=this.props.content;return Object(x.jsxs)("div",{onClick:function(){e.updateReaction()},className:O()("d-flex","align-items-center","justify-content-center","w-100","h-100",{"reaction-icon":!t}),children:[Object(x.jsx)("img",{className:O()({"mr-3":t,"circle-auto":t,circle:!t}),src:"http://gapo.vn/assets/images/png-icons/haha-reaction.png",alt:""}),t||""]})}}]),s}(n.Component),le=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"updateReaction",value:function(){var e=this.props,t=e.content,s=e.handleUpdateReaction;t||s("wow")}},{key:"render",value:function(){var e=this,t=this.props.content;return Object(x.jsxs)("div",{onClick:function(){e.updateReaction()},className:O()("d-flex","align-items-center","justify-content-center","w-100","h-100",{"reaction-icon":!t}),children:[Object(x.jsx)("img",{className:O()({"mr-3":t,"circle-auto":t,circle:!t}),src:"http://gapo.vn/assets/images/png-icons/wow-reaction.png",alt:""}),t||""]})}}]),s}(n.Component),de=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"updateReaction",value:function(){var e=this.props,t=e.content,s=e.handleUpdateReaction;t||s("sad")}},{key:"render",value:function(){var e=this,t=this.props.content;return Object(x.jsxs)("div",{onClick:function(){e.updateReaction()},className:O()("d-flex","align-items-center","justify-content-center","w-100","h-100",{"reaction-icon":!t}),children:[Object(x.jsx)("img",{className:O()({"mr-3":t,"circle-auto":t,circle:!t}),src:"http://gapo.vn/assets/images/png-icons/sad-reaction.png",alt:""}),t||""]})}}]),s}(n.Component),ue=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"updateReaction",value:function(){var e=this.props,t=e.content,s=e.handleUpdateReaction;t||s("angry")}},{key:"render",value:function(){var e=this,t=this.props.content;return Object(x.jsxs)("div",{onClick:function(){e.updateReaction()},className:O()("d-flex","align-items-center","justify-content-center","w-100","h-100",{"reaction-icon":!t}),children:[Object(x.jsx)("img",{className:O()({"mr-3":t,"circle-auto":t,circle:!t}),src:"http://gapo.vn/assets/images/png-icons/angry-reaction.png",alt:""}),t||""]})}}]),s}(n.Component),he=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={countReaction:0,countComments:0,isReaction:!1,author:{},post:{},reactionSelected:""},e.timeOut=0,e.countReaction=e.countReaction.bind(Object(o.a)(e)),e.countComments=e.countComments.bind(Object(o.a)(e)),e.getAuthorInfo=e.getAuthorInfo.bind(Object(o.a)(e)),e.checkUserReaction=e.checkUserReaction.bind(Object(o.a)(e)),e.handleUpdateReaction=e.handleUpdateReaction.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"UNSAFE_componentWillMount",value:function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPostByID();case 2:this.getAuthorInfo(),this.countComments(),this.countReaction(),this.checkUserReaction();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(h.a.mark((function e(t,s){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.post!==this.state.post&&(this.countComments(),this.countReaction());case 1:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"countReaction",value:function(){var e=this.state.post,t=e.reaction.like.length+e.reaction.haha.length+e.reaction.love.length+e.reaction.wow.length+e.reaction.sad.length+e.reaction.angry.length;this.setState({countReaction:t})}},{key:"countComments",value:function(){var e=this.state.post.comments.length;this.setState({countComments:e})}},{key:"checkUserReaction",value:function(){var e=this.props.userInfo,t=this.state.post;-1===t.reaction.like.indexOf(e._id)?-1===t.reaction.love.indexOf(e._id)?-1===t.reaction.haha.indexOf(e._id)?-1===t.reaction.wow.indexOf(e._id)?-1===t.reaction.sad.indexOf(e._id)?-1===t.reaction.angry.indexOf(e._id)||this.setState({reactionSelected:"angry",isReaction:!0}):this.setState({reactionSelected:"sad",isReaction:!0}):this.setState({reactionSelected:"wow",isReaction:!0}):this.setState({reactionSelected:"haha",isReaction:!0}):this.setState({reactionSelected:"love",isReaction:!0}):this.setState({reactionSelected:"like",isReaction:!0})}},{key:"handleReactionBox",value:function(e){var t=document.getElementById(this.props.id);!0===e&&(t.style.transform="translate(0, -100%)",t.style.visibility="visible"),!1===e&&(t.style.transform="translate(0, -75%)",t.style.visibility="hidden")}},{key:"getPostByID",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,e.next=3,Q(t);case 3:"success"===(s=e.sent).status&&this.setState({post:s.doc});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAuthorInfo",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.post,e.next=3,S(t.userID);case 3:"success"===(s=e.sent).status&&this.setState({author:s.doc});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateReaction",value:function(e){var t=this;this.handleReactionBox(!1);var s=this.props,n=s.id,a=s.userInfo,c=!!e;this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(Object(p.a)(h.a.mark((function s(){var i;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,ne(n,"reaction",{userID:a._id,type:e,status:c});case 2:"success"===(i=s.sent).status&&t.setState({post:i.doc}),t.setState({reactionSelected:e,isReaction:!0}),e||t.setState({isReaction:!1});case 6:case"end":return s.stop()}}),s)}))),300)}},{key:"render",value:function(){var e=this,t=this.props,s=t.id,n=t.userInfo,a=this.state.post,c=this.state.author;return Object(x.jsxs)("div",{className:"w-100 bg-light position-relative rounded box-shadow post-item",style:{padding:"5px 0"},children:[Object(x.jsxs)("div",{className:"mb-3 d-flex flex-nowrap align-items-center",children:[Object(x.jsx)("img",{className:"mr-3 circle border",src:c.avatar,alt:""}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"d-inline-block fw-6 mb-2",children:[c.firstName," ",c.lastName]}),Object(x.jsxs)("div",{className:"fs-08 text-secondary text-nowrap",children:[Object(x.jsx)("span",{className:"mt-3 pr-5 position-relative post-date",children:se(a.timestamps)}),Object(x.jsx)("span",{className:"pl-5",style:{marginLeft:"5px"},children:Object(x.jsx)(k.a,{icon:C.f})})]})]})]}),Object(x.jsx)("div",{children:a.content}),Object(x.jsxs)("div",{className:O()("d-flex","text-secondary",{"m-0":!this.state.countReaction&!this.state.countComments}),children:[this.state.countReaction>0?Object(x.jsx)(ce,{post:a}):"",this.state.countComments>0?Object(x.jsx)(ae,{post:a}):""]}),Object(x.jsx)("div",{className:"m-0 position-relative border",children:Object(x.jsxs)("div",{id:s,onMouseEnter:function(){e.handleReactionBox(!0)},onMouseLeave:function(){e.handleReactionBox(!1)},className:"d-flex p-2 position-absolute rounded-pill border bg-light reaction-box",children:[Object(x.jsx)(ie,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction}),Object(x.jsx)(re,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction}),Object(x.jsx)(oe,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction}),Object(x.jsx)(le,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction}),Object(x.jsx)(de,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction}),Object(x.jsx)(ue,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction})]})}),Object(x.jsxs)("div",{className:"row m-1 p-0 text-secondary",children:[this.state.isReaction?Object(x.jsx)("div",{onMouseEnter:function(){e.handleReactionBox(!0)},onMouseLeave:function(){e.handleReactionBox(!1)},onClick:function(){e.handleUpdateReaction("")},className:"p-2 col d-flex justify-content-center align-items-center fw-06 cursor-pointer rounded hover-gray reaction-show-box",style:{color:"#6fbe44"},children:"like"===this.state.reactionSelected?Object(x.jsx)(ie,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction,content:"Like"}):"love"===this.state.reactionSelected?Object(x.jsx)(re,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction,content:"Love"}):"haha"===this.state.reactionSelected?Object(x.jsx)(oe,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction,content:"Haha"}):"wow"===this.state.reactionSelected?Object(x.jsx)(le,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction,content:"Wow"}):"sad"===this.state.reactionSelected?Object(x.jsx)(de,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction,content:"Sad"}):"angry"===this.state.reactionSelected?Object(x.jsx)(ue,{postID:s,userID:n._id,handleUpdateReaction:this.handleUpdateReaction,content:"Angry"}):""}):Object(x.jsxs)("div",{onMouseEnter:function(){e.handleReactionBox(!0)},onMouseLeave:function(){e.handleReactionBox(!1)},onClick:function(){e.handleUpdateReaction("")},className:"p-2 col d-flex justify-content-center align-items-center fw-06 cursor-pointer rounded hover-gray reaction-show-box",children:[Object(x.jsx)("img",{className:"mr-3 circle-auto",src:"http://gapo.vn/assets/images/png-icons/like-reaction.png",alt:""}),"Th\xedch"]}),Object(x.jsxs)("div",{className:"p-2 col d-flex justify-content-center align-items-center fw-06 cursor-pointer rounded hover-gray",children:[Object(x.jsx)(k.a,{icon:C.e,className:"mr-3"}),"B\xecnh lu\u1eadn"]}),Object(x.jsxs)("div",{className:"p-2 col d-flex justify-content-center align-items-center fw-06 cursor-pointer rounded hover-gray",children:[Object(x.jsx)(k.a,{icon:C.h,className:"mr-3"}),"Chia s\u1ebb"]})]}),Object(x.jsx)("div",{className:"mx-0 mt-0 border"}),Object(x.jsx)("div",{className:"mt-0 pt-0 post-item-comments"}),Object(x.jsxs)("div",{className:"my-0 mb-2 d-flex",children:[Object(x.jsx)("img",{className:"mr-auto circle border",src:n.avatar,alt:""}),Object(x.jsx)("input",{className:"mx-2 form-control bg-color-light-1 rounded-pill post-item-comment-content",type:"text",placeholder:"Vi\u1ebft b\xecnh lu\u1eadn..."}),Object(x.jsx)("img",{className:"ml-auto circle post-item-comment-send",src:"https://www.gapo.vn/assets/images/svg-icons/send-message-icon.svg",alt:""})]})]})}}]),s}(n.Component),pe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.handlePostBox,s=e.userAvatar;return Object(x.jsxs)("div",{className:"card-min-width col-8 p-2 d-flex flex-nowrap align-items-center bg-light rounded box-shadow",children:[Object(x.jsx)("img",{className:"mr-auto circle border",src:s,alt:""}),Object(x.jsx)("button",{onClick:function(){t(!0)},className:"mx-3 form-control hover-light-green cursor-pointer post-show-box",children:"\u0110\u0103ng b\xe0i vi\u1ebft"}),Object(x.jsx)("div",{className:"ml-auto circle hover-gray d-flex justify-content-center align-items-center bg-light post-show-box",children:Object(x.jsx)("img",{onClick:function(){t(!0)},width:"50%",src:"https://www.gapo.vn/assets/images/svg-icons/picture-video.svg",alt:""})})]})}}]),s}(n.Component),je=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.item;return Object(x.jsxs)("li",{className:"position-relative",children:[Object(x.jsx)("div",{className:" border rounded post-tendency-item",children:Object(x.jsx)("img",{className:"w-100 rounded post-tendency-item-image",src:e.img,alt:""})}),Object(x.jsxs)("p",{className:"w-100 px-5 position-absolute bottom-10px left-50 translate-x-50 fw-7 text-light text-center text-overflow-ellipsis overflow-hidden",children:["#",e.name]})]})}}]),s}(n.Component),me=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).handleSlideTendency=e.handleSlideTendency.bind(Object(o.a)(e)),e.tendencyItems=[{name:"phim",img:"https://image-1.gapo.vn/images/a692a630-3a31-46ea-8002-9bc5ef78c964.jpeg"},{name:"vongquaymayman",img:"https://image-5.gapo.vn/images/40c90734-b042-4abe-95f9-421f142919fc.jpeg"},{name:"tamsu",img:"https://image-1.gapo.vn/images/0f5f9636-d042-439d-9efc-dfe55b112154.jpeg"},{name:"chiase",img:"https://image-5.gapo.vn/images/91ef2171-c618-4eba-8f93-4a7f3dc99772.jpeg"},{name:"muaban",img:"https://image-5.gapo.vn/images/a7c2f462-ac7e-4887-bc01-5dcd7d9243ff.jpeg"}],e}return Object(r.a)(s,[{key:"handleSlideTendency",value:function(e){this.handleTimeOut&&clearTimeout(this.handleTimeOut),this.handleTimeOut=setTimeout((function(){var t=document.getElementById("post-tendency-slide"),s=+window.getComputedStyle(t).marginLeft.split("px").join(""),n=document.getElementById("post-tendency-slide--left"),a=document.getElementById("post-tendency-slide--right"),c=document.getElementsByClassName("post-tendency-item");if("left"===e){if(-s<=0)return void(n.style.pointerEvents="none");a.style.pointerEvents="unset",t.style.marginLeft="".concat(s+158,"px")}if("right"===e){if(s<=-(158*c.length-316-8))return void(a.style.pointerEvents="none");n.style.pointerEvents="unset",t.style.marginLeft="".concat(s-158,"px")}}),300)}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"card-min-width col-8 p-2 d-flex flex-column align-items-center bg-light rounded box-shadow",children:[Object(x.jsxs)("div",{className:"row mb-3 align-items-center fw-6 fs-01",children:[Object(x.jsx)("img",{className:"mr-3",src:"https://www.gapo.vn/assets/images/icon-trend.svg",alt:""}),"Xu h\u01b0\u1edbng n\u1ed5i b\u1eadc"]}),Object(x.jsx)("div",{className:"row position-relative overflow-hidden",children:Object(x.jsxs)("ul",{id:"post-tendency-slide",className:"row post-tendency-slide",children:[this.tendencyItems.map((function(e,t){return Object(x.jsx)(je,{item:e},t)})),Object(x.jsx)("div",{onClick:function(){e.handleSlideTendency("left")},id:"post-tendency-slide--left",className:"ml-1 circle position-absolute top-50 left-0 translate-y-50 bg-dark text-center text-light post-tendency-slide--left",children:Object(x.jsx)(k.a,{icon:C.c})}),Object(x.jsx)("div",{onClick:function(){e.handleSlideTendency("right")},id:"post-tendency-slide--right",className:"mr-1 circle position-absolute top-50 right-0 translate-y-50 bg-dark text-center text-light post-tendency-slide--right",children:Object(x.jsx)(k.a,{icon:C.d})})]})})]})}}]),s}(n.Component),be=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"createGroup",value:function(){var e=this,t=document.getElementById("name").value,s=document.getElementById("description").value;t?(b.a.post(N+"/groups",{name:t,description:s,avatar:"https://www.gapo.vn/assets/icons/group-active.svg"}).then((function(e){return e.data})).then((function(t){"success"===t.status&&e.props.isCreateGroup()})),this.props.handleAlert("","",!1)):this.props.handleAlert("warning","Ch\u01b0a nh\u1eadp t\xean nh\xf3m.",!0)}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"card-min-width p-2 d-flex flex-column position-absolute bg-light rounded box-shadow z-index-9",style:{maxWidth:"500px"},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"mb-2 text-secondary",children:"T\u1ea1o nh\xf3m m\u1edbi"}),Object(x.jsx)("p",{className:"fs-08 text-secondary",children:"T\u1ea1o kh\xf4ng gian tuy\u1ec7t v\u1eddi \u0111\u1ec3 ho\xe0n th\xe0nh c\xf4ng vi\u1ec7c v\xe0 ch\u1ec9 li\xean l\u1ea1c v\u1edbi nh\u1eefng ng\u01b0\u1eddi b\u1ea1n mu\u1ed1n. H\xe3y chia s\u1ebb \u1ea3nh v\xe0 video, tr\xf2 chuy\u1ec7n, l\xean k\u1ebf ho\u1ea1ch v\xe0 nhi\u1ec1u ho\u1ea1t \u0111\u1ed9ng kh\xe1c v\u1edbi nh\u1eefng ng\u01b0\u1eddi b\u1ea1n tr\xean Gapo."})]}),Object(x.jsx)("div",{className:"my-3 border"}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("p",{className:"mb-1",children:"T\xean nh\xf3m"}),Object(x.jsx)("input",{id:"name",className:"w-100 form-control",type:"text",placeholder:"Nh\u1eadp t\xean nh\xf3m..."})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"mb-1",children:"M\xf4 t\u1ea3"}),Object(x.jsx)("textarea",{id:"description",className:"w-100 form-control fs-15 border-0",cols:"50",rows:"7",placeholder:"M\xf4 t\u1ea3..."})]}),Object(x.jsx)("div",{className:"my-3 border"}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){e.createGroup()},className:"w-100 p-3 bg-color-green-2 fs-1 text-light rounded outline-none border-0 cursor-pointer transition-03",children:"T\u1ea1o nh\xf3m"})})]})}}]),s}(n.Component),xe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"w-100 bg-light position-relative rounded box-shadow post-item",style:{padding:"5px 0"},children:[Object(x.jsxs)("div",{className:"w-100 mb-3 d-flex flex-nowrap align-items-center",children:[Object(x.jsx)("div",{className:"mr-3 circle border bg-color-light-2"}),Object(x.jsxs)("div",{className:"w-75 h-100 d-flex flex-column justify-content-around",style:{height:"40px"},children:[Object(x.jsx)("div",{className:"border rounded-pill bg-color-light-2",style:{width:"30%",height:"10px"}}),Object(x.jsx)("div",{className:"border rounded-pill bg-color-light-2",style:{width:"40%",height:"10px"}})]})]}),Object(x.jsx)("div",{style:{height:"100px"}}),Object(x.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(x.jsx)("div",{className:"border rounded-pill bg-color-light-2",style:{width:"30%",height:"10px"}}),Object(x.jsx)("div",{className:"border rounded-pill bg-color-light-2",style:{width:"30%",height:"10px"}}),Object(x.jsx)("div",{className:"border rounded-pill bg-color-light-2",style:{width:"30%",height:"10px"}})]})]})}}]),s}(n.Component),fe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={groupID:e.groupSelected,menuSelected:"",isShowPostBox:!1,isShowGroupBox:!1,isCreatePost:!1,isCreateGroup:!1,postsList:[],startPost:0,postNum:3,hasMore:!0},n.handleTimeOut=0,n.handlePostBox=n.handlePostBox.bind(Object(o.a)(n)),n.isCreatePost=n.isCreatePost.bind(Object(o.a)(n)),n.isCreateGroup=n.isCreateGroup.bind(Object(o.a)(n)),n.handlePost=n.handlePost.bind(Object(o.a)(n)),n}return Object(r.a)(s,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({menuSelected:this.props.menuSelected}),this.getPosts(this.state.groupID)}},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(h.a.mark((function e(t,s){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isShowGroupBox!==this.props.isShowGroupBox&&this.setState({isShowGroupBox:this.props.isShowGroupBox}),s.isCreatePost===this.state.isCreatePost){e.next=5;break}return e.next=4,this.getPosts(this.props.groupID);case 4:this.setState({isCreatePost:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.groupSelected!==this.props.groupSelected&&(this.setState({hasMore:!0,postsList:[],startPost:0,postNum:3}),this.getPosts(e.groupSelected))}},{key:"handlePostBox",value:function(e){this.setState({isShowPostBox:e})}},{key:"getPosts",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var s,n,a,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=19;break}return e.next=3,fetch("http://localhost:3001/posts").then((function(e){return e.json()}));case 3:if("success"!==(s=e.sent).status){e.next=19;break}if(0!==s.doc.length){e.next=8;break}return this.setState({hasMore:!1}),e.abrupt("return");case 8:n=this.state.startPost;case 9:if(!(n<this.state.postNum)){e.next=18;break}if(!s.doc[n]){e.next=14;break}return this.setState({postsList:[].concat(Object(R.a)(this.state.postsList),[s.doc[n]])}),n++,e.abrupt("continue",9);case 14:return this.setState({startPost:this.state.postsList.length,postNum:n+3}),e.abrupt("break",18);case 18:this.setState({startPost:this.state.postsList.length,postNum:this.state.postsList.length+3});case 19:if(!t){e.next=41;break}return e.next=22,X(t);case 22:if("success"!==(a=e.sent).status){e.next=41;break}if(0!==a.doc.posts.length){e.next=27;break}return this.setState({hasMore:!1}),e.abrupt("return");case 27:c=this.state.startPost;case 28:if(!(c<this.state.postNum)){e.next=40;break}if(!a.doc.posts[c]){e.next=36;break}return e.next=32,Q(a.doc.posts[c]);case 32:return"success"===(i=e.sent).status&&this.setState({postsList:[].concat(Object(R.a)(this.state.postsList),[i.doc])}),c++,e.abrupt("continue",28);case 36:return this.setState({startPost:this.state.postsList.length,postNum:c+3}),e.abrupt("break",40);case 40:this.setState({startPost:this.state.postsList.length,postNum:this.state.postsList.length+3});case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePost",value:function(e){var t=this;setTimeout(Object(p.a)(h.a.mark((function s(){var n,a,c,i,r;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e){s.next=16;break}return s.next=3,fetch("http://localhost:3001/posts").then((function(e){return e.json()}));case 3:if("success"!==(n=s.sent).status){s.next=16;break}a=t.state.startPost;case 6:if(!(a<t.state.postNum)){s.next=15;break}if(!n.doc[a]){s.next=11;break}return t.setState({postsList:[].concat(Object(R.a)(t.state.postsList),[n.doc[a]])}),a++,s.abrupt("continue",6);case 11:return t.setState({hasMore:!1}),s.abrupt("break",15);case 15:t.state.hasMore&&t.setState({startPost:t.state.postsList.length+1,postNum:t.state.postsList.length+4});case 16:if(!e){s.next=38;break}return s.next=19,X(e);case 19:if("success"!==(c=s.sent).status){s.next=38;break}if(0!==c.doc.posts.length){s.next=24;break}return t.setState({hasMore:!1}),s.abrupt("return");case 24:i=t.state.startPost;case 25:if(!(i<t.state.postNum)){s.next=37;break}if(!c.doc.posts[i]){s.next=33;break}return s.next=29,Q(c.doc.posts[i]);case 29:return"success"===(r=s.sent).status&&t.setState({postsList:[].concat(Object(R.a)(t.state.postsList),[r.doc])}),i++,s.abrupt("continue",25);case 33:return t.setState({startPost:t.state.postsList.length,postNum:i+3}),s.abrupt("break",37);case 37:t.setState({startPost:t.state.postsList.length,postNum:t.state.postsList.length+3});case 38:case"end":return s.stop()}}),s)}))),1500)}},{key:"isCreatePost",value:function(e){this.setState({postsList:[e].concat(Object(R.a)(this.state.postsList)),postNum:this.state.postsList.length+1,startPost:this.state.postsList.length+3,isCreatePost:!0,isShowPostBox:!1})}},{key:"isCreateGroup",value:function(){this.setState({isCreateGroup:!0,isShowGroupBox:!1}),this.props.handleCreateGroup()}},{key:"render",value:function(){var e=this,t=this.props,s=t.userInfo,n=t.handleShowGroupBox,a=t.handleAlert,c=t.groupSelected;return Object(x.jsxs)("div",{className:"p-1 d-flex flex-column align-items-center col-lg-6 col-md-8 col-12 position-relative main-content",children:[this.state.isShowPostBox?Object(x.jsx)(te,{userInfo:s,isCreatePost:this.isCreatePost}):"",this.state.isShowGroupBox?Object(x.jsx)(be,{userInfo:s,handleAlert:a,isCreateGroup:this.isCreateGroup}):"",Object(x.jsx)(pe,{userAvatar:s.avatar,handlePostBox:this.handlePostBox}),Object(x.jsx)(me,{}),Object(x.jsx)("div",{className:"card-min-width col-8",children:Object(x.jsx)(K.a,{dataLength:this.state.postsList.length,next:function(){e.handlePost(c)},hasMore:this.state.hasMore,loader:Object(x.jsx)(xe,{}),style:{overflow:"visible"},className:"post-items",children:this.state.postsList.length>0?this.state.postsList.map((function(e){return Object(x.jsx)(he,{id:e._id,userInfo:s},e._id)})):""})}),this.state.isShowPostBox||this.state.isShowGroupBox?Object(x.jsx)("div",{onClick:function(){e.handlePostBox(!1),n(!1)},className:"screen--dark"}):""]})}}]),s}(n.Component),ge=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props.friendInfo;return Object(x.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(x.jsx)("img",{src:e.avatar,className:"rounded-circle border",style:{height:"80px",width:"80px"}}),Object(x.jsxs)("div",{className:"username my-2",children:[e.firstName," ",e.lastName]}),Object(x.jsx)("p",{className:"fs-08 text-secondary",children:"C\xe1c b\u1ea1n l\xe0 b\u1ea1n b\xe8 tr\xean Gapo"})]})}}]),s}(n.Component),ve=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.messagesInfo,s=e.handleShowMessageBox;return Object(x.jsxs)("div",{className:"mr-5 position-fixed bottom-0 right-0 bg-light box-shadow rounded messages-box",style:{height:"450px",width:"330px"},children:[Object(x.jsxs)("div",{className:"px-3 d-flex align-items-center border bg-color-green-2 text-light rounded-top",style:{height:"50px"},children:[Object(x.jsx)("img",{className:"mr-2 circle circle-sm border",src:t.friendInfo.avatar}),Object(x.jsxs)("div",{className:"cursor-pointer",children:[t.friendInfo.firstName," ",t.friendInfo.lastName]}),Object(x.jsx)(k.a,{onClick:function(){s(!1)},icon:C.i,className:"ml-auto fs-15 cursor-pointer"})]}),Object(x.jsx)("div",{className:"overflow-y-scroll friend-message-items--wrapped",style:{height:"calc(100% - 100px)"},children:Object(x.jsx)("div",{className:O()({"d-flex":0!==t.messages.length,"flex-column-reverse":0!==t.messages.length,"pt-5":0===t.messages.length}),style:{minHeight:"100%"},children:0!==t.messages.length?"run":Object(x.jsx)(ge,{friendInfo:t.friendInfo})})}),Object(x.jsxs)("div",{className:"mt-auto px-2 d-flex align-items-center border-top",style:{height:"50px"},children:[Object(x.jsx)("img",{className:"mr-3 cursor-pointer",src:"https://www.gapo.vn/assets/icons/gif-icon.svg",alt:""}),Object(x.jsx)("img",{className:"mr-3 cursor-pointer",src:"https://www.gapo.vn/assets/images/chat/image.svg",alt:""}),Object(x.jsx)("img",{className:"mr-3 cursor-pointer",src:"https://www.gapo.vn/assets/images/chat/sticker.svg",alt:""}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{id:"message-content",className:"form-control bg-color-light-1 rounded-pill",type:"text",placeholder:"Aa",style:{width:"190px",padding:".5em .7em",fontSize:".9em"}})}),Object(x.jsx)("img",{id:"message-send",className:"cursor-pointer",width:"30px",src:"https://www.gapo.vn/assets/images/svg-icons/send-message-icon.svg",alt:""})]})]})}}]),s}(n.Component),Oe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={menuSelected:e.menuSelected,isShowGroupBox:!1,isCreateGroup:!1,isShowMessageBox:!1,groupSelected:"",messagesInfo:{friendInfo:{},messages:[]}},n.handleMenuSelected=n.handleMenuSelected.bind(Object(o.a)(n)),n.handleShowGroupBox=n.handleShowGroupBox.bind(Object(o.a)(n)),n.handleCreateGroup=n.handleCreateGroup.bind(Object(o.a)(n)),n.handleGroupSelected=n.handleGroupSelected.bind(Object(o.a)(n)),n.handleShowMessageBox=n.handleShowMessageBox.bind(Object(o.a)(n)),n.handleFriendMessage=n.handleFriendMessage.bind(Object(o.a)(n)),n}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e){e.menuSelected!==this.props.menuSelected&&this.handleMenuSelected(this.props.menuSelected)}},{key:"handleMenuSelected",value:function(e){this.setState({menuSelected:e})}},{key:"handleShowGroupBox",value:function(e){this.setState({isShowGroupBox:e})}},{key:"handleCreateGroup",value:function(){this.setState({isCreateGroup:!0})}},{key:"handleGroupSelected",value:function(e){this.setState({groupSelected:e})}},{key:"handleShowMessageBox",value:function(e){this.setState({isShowMessageBox:e})}},{key:"handleFriendMessage",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var s,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.props.userInfo,e.next=3,S(t);case 3:if("success"!==(n=e.sent).status){e.next=12;break}return e.next=7,b.a.post(N+"/messages",{userID_1:s._id,userID_2:t,message:""}).then((function(e){return e.data}));case 7:if("success"!==(a=e.sent).status){e.next=11;break}return this.setState({messagesInfo:{friendInfo:n.doc,messages:a.doc.messages},isShowMessageBox:!0}),e.abrupt("return");case 11:this.setState({messagesInfo:Object(j.a)(Object(j.a)({},this.state.messagesInfo),{},{friendInfo:n.doc}),isShowMessageBox:!0});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.userInfo,s=e.isUpdateFriend,n=e.handleFriendStatus,a=e.handleAlert;return Object(x.jsxs)("main",{id:"main",className:"d-flex bg-color-light-2 overflow-x-hidden",children:[Object(x.jsx)(z,{menuSelected:this.state.menuSelected,handleShowGroupBox:this.handleShowGroupBox,isCreateGroup:this.state.isCreateGroup,handleGroupSelected:this.handleGroupSelected}),Object(x.jsx)("div",{className:"mr-auto col-lg-3 col-0 main-sub"}),Object(x.jsx)(fe,{userInfo:t,handleShowGroupBox:this.handleShowGroupBox,isShowGroupBox:this.state.isShowGroupBox,handleAlert:a,handleCreateGroup:this.handleCreateGroup,groupSelected:this.state.groupSelected}),Object(x.jsx)("div",{className:"ml-auto col-lg-3 col-md-4 col-0 main-sub"}),Object(x.jsx)(q,{userInfo:t,isUpdateFriend:s,handleFriendStatus:n,handleFriendMessage:this.handleFriendMessage}),this.state.isShowMessageBox?Object(x.jsx)(ve,{messagesInfo:this.state.messagesInfo,handleShowMessageBox:this.handleShowMessageBox}):""]})}}]),s}(n.Component),ye=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={userInfo:{},menuSelected:"home",isLoading:!1,isUpdateFriend:!1,isAlert:!1,alertType:"",alertMessage:""},e.isUpdateFriend=e.isUpdateFriend.bind(Object(o.a)(e)),e.handleMenuSelected=e.handleMenuSelected.bind(Object(o.a)(e)),e.handleAlert=e.handleAlert.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;S(this.props._id).then((function(t){"success"===t.status&&e.setState({userInfo:t.doc,isLoading:!0})}))}},{key:"handleAlert",value:function(e,t,s){this.setState({alertType:e,alertMessage:t,isAlert:s})}},{key:"isUpdateFriend",value:function(e){this.setState({isUpdateFriend:e})}},{key:"handleMenuSelected",value:function(e){this.setState({menuSelected:e})}},{key:"render",value:function(){var e=this.props.handleLogin;return Object(x.jsxs)("div",{children:[this.state.isAlert?Object(x.jsx)(y,{alertType:this.state.alertType,alertMessage:this.state.alertMessage}):"",this.state.isLoading?Object(x.jsx)(P,{userInfo:this.state.userInfo,handleLogin:e,isUpdateFriend:this.isUpdateFriend,handleMenuSelected:this.handleMenuSelected,menuSelected:this.state.menuSelected}):"",this.state.isLoading?Object(x.jsx)(Oe,{userInfo:this.state.userInfo,isUpdateFriend:this.state.isUpdateFriend,handleFriendStatus:this.isUpdateFriend,menuSelected:this.state.menuSelected,handleAlert:this.handleAlert}):""]})}}]),s}(n.Component),Ne=(s(58),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={isLoggin:!1,_id:""},e.handleLogin=e.handleLogin.bind(Object(o.a)(e)),e}return Object(r.a)(s,[{key:"handleLogin",value:function(e,t){this.setState({isLoggin:e,_id:t})}},{key:"render",value:function(){return Object(x.jsx)("div",{children:this.state.isLoggin?Object(x.jsx)(ye,{_id:this.state._id,handleLogin:this.handleLogin}):Object(x.jsx)(w,{handleLogin:this.handleLogin})})}}]),s}(n.Component)),we=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,60)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),c(e),i(e)}))};c.a.render(Object(x.jsx)(Ne,{}),document.getElementById("root")),we()}},[[59,1,2]]]);
//# sourceMappingURL=main.8c8491b7.chunk.js.map